<!DOCTYPE html>
<html lang="en">
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genesys Cloud and Kore.ai</title>
	  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {background-color: #0A2457;}
      h1   {color: white; text-align: center; font-family: Geneva, sans-serif;}
      p    {color: #1959d6;}
	  .whitebox {background-color: white; }
	  
    </style>

	<script type="text/javascript" charset="utf-8">
	  (function (g, e, n, es, ys) {
		g['_genesysJs'] = e;
		g[e] = g[e] || function () {
		  (g[e].q = g[e].q || []).push(arguments)
		};
		g[e].t = 1 * new Date();
		g[e].c = es;
		ys = document.createElement('script'); ys.async = 1; ys.src = n; ys.charset = 'utf-8'; document.head.appendChild(ys);
	  })(window, 'Genesys', 'https://apps.mypurecloud.de/genesys-bootstrap/genesys.min.js', {
		environment: 'prod-euc1',
		deploymentId: 'd3147b6f-316e-4de4-b2ea-9511019c532f'
	  });
	  

	  
	</script>

	</head>
	<body>
		<script>
			Genesys("command", "Database.set", {messaging: {customAttributes: {
			   "Queue": "Test_Kore_Queue1",
			   "Widget_Email":"",
			   "Widget_Name":""
			}}})
			Genesys("subscribe", "Launcher.ready", function(){});
			Genesys("subscribe", "Launcher.visible", function(){});
			Genesys("command", "Launcher.show", {},
				function() {
					/*fulfilled callback*/
					console.log("OK")
				},
				function() {
					/*rejected callback*/
					console.log("Rejected")		
				}
			);
		</script>
		<script>
			function changeQueue() {
				var queueSelected = document.getElementById("queueSelector").value;
				Genesys("command", "Database.set", {messaging: {customAttributes: {"Queue": queueSelected}}})	  
			}
			function changeName() {
				var nameEntered = document.getElementById("userName").value;
				/*Genesys("command", "Database.set", {messaging: {customAttributes: {"Widget_Name": nameEntered}}})*/
			}
			function changeEmail() {
				var emailEntered = document.getElementById("userEmail").value;
				/*Genesys("command", "Database.set", {messaging: {customAttributes: {"Widget_Email": emailEntered}}})*/
			}
		</script>

	
   <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card mt-5 shadow">
                    <div class="card-body text-center p-5">
                        <div class="mb-4">
                            <i class="bi bi-arrow-right-circle text-primary" style="font-size: 4rem;"></i>
                        </div>
                        <h1 class="card-title text-primary mb-4">Genesys Cloud and Kore.ai</h1>
                        <div class="alert alert-info mb-4">
 			<label for="queueSelector">Choose ACD Queue:</label>
		    <select name="queueSelector" id="queueSelector" onchange="changeQueue()" style="width: 300px; background-color: #FFFFFF;">
			   <option value="Test_Kore_Queue1">Test_Kore_Queue1</option>
			   <option value="Test_Generic">Test_Generic</option>
			   <option value="Test_Generic_2">Test_Generic_2</option>

			</select>
			<br><br>
			<label for="userName">Enter your name:</label>
			<input type="text" id="userName" name="userName" 
				placeholder="Enter your name" onblur="changeName()"
				style="width: 300px; background-color: #FFFFFF;">
			<br><br>
			<label for="userEmail">Enter your email:</label>
			<input type="email" id="userEmail" name="userEmail" 
				placeholder="john.doe@acme.com" onblur="changeEmail()"
				pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" 
				style="width: 300px; background-color: #FFFFFF;">
		  
		  <br><br>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>		
	</body>
</html>

